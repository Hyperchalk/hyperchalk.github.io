(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{284:function(e,t,a){"use strict";a.r(t);var r=a(13),o=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"hyperchalk-quickstart"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hyperchalk-quickstart"}},[e._v("#")]),e._v(" Hyperchalk Quickstart")]),e._v(" "),t("p",[e._v("Hyperchalk is an online whiteboard to be used educational research. It provides a useful tool for\ncollaborative assignments and supports you in collecting data for learning analytics.")]),e._v(" "),t("p",[e._v("If you use Hyperchalk in your scientific work, please cite this paper ("),t("a",{attrs:{href:"https://github.com/Hyperchalk/Hyperchalk/blob/main/citation.bib",target:"_blank",rel:"noopener noreferrer"}},[e._v("see biblatex citation"),t("OutboundLink")],1),e._v("):")]),e._v(" "),t("blockquote",[t("p",[e._v('Lukas Menzel, Sebastian Gombert, Daniele Di Mitri and Hendrik Drachsler. "Superpowers in the\nClassroom: Hyperchalk is an Online Whiteboard for Learning Analytics Data Collection". In:\nEducating for a new future: Making sense of technology-enhanced learning adoption. Sep 2022.')])]),e._v(" "),t("h2",{attrs:{id:"installation-and-setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-setup"}},[e._v("#")]),e._v(" Installation and Setup")]),e._v(" "),t("h3",{attrs:{id:"introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),t("p",[e._v("It is highly recommended to use Docker and docker-compose for deploying Hyperchalk. We offer a pre-made container which is kept updated by us:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" pull ghcr.io/hyperchalk/hyperchalk\n")])])]),t("p",[e._v("We provide an example "),t("a",{attrs:{href:"https://github.com/Hyperchalk/Hyperchalk/blob/main/docker-compose.example.yml",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker-compose.example.yml"),t("OutboundLink")],1),e._v(" file which also contains explanatory comments. Hyperchalk relies on "),t("a",{attrs:{href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis"),t("OutboundLink")],1),e._v(" for caching and fast inter-process communication. Inter-process communication is needed as Hyperchalk uses WebSockets to communicate with the client-side and runs on multiple processes for better scalability. When users connect to the same room but are assigned to different processes by the server, this can lead to synchronization issues which can be prevented via inter-process communication. Moreover, the caching offered by Redis decreases the load on the database, and, through this, helps to better scale the app. As suggested by the previous sentence, Hyperchalk also requires an SQL database, namely either "),t("a",{attrs:{href:"https://mariadb.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MariaDB/MySQL"),t("OutboundLink")],1),e._v(" or "),t("a",{attrs:{href:"https://www.postgresql.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("PostgreSQL"),t("OutboundLink")],1),e._v(", for data persistence. We are working on supporting more database servers such as MS-SQL and Oracle, but we want to conduct further testing before we provide official support. The compose file also includes basic configurations for Redis and MariaDB containers, but for production, we recommend you to further configure these to your needs. If you intend to use Hyperchalk with existing SQL or Redis instances you have already set up, just remove the respective sections from the docker-compose file. You don't need to worry about setting up any tables. Hyperchalk will conduct this automatically for you. In case an update changes the database scheme, migrations are conducted automatically, as well.")]),e._v(" "),t("h3",{attrs:{id:"configuring-hyperchalk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuring-hyperchalk"}},[e._v("#")]),e._v(" Configuring Hyperchalk")]),e._v(" "),t("p",[e._v("You should configure Hyperchalk to your needs via the docker-compose file. This is conducted with the helpt of environment variables. The environment variables which are used to configure Hyperchalk are explained in the following table. Adapt them to your needs:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Variable")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("DATABASE_URL")]),e._v(" "),t("td",[e._v('The URI of the SQL server (e.g., "mysql://user:password@host:3306/database").')])]),e._v(" "),t("tr",[t("td",[e._v("HC_REDIS_URL")]),e._v(" "),t("td",[e._v('The URI of the Redis server (e.g., "redis://host:6379").')])]),e._v(" "),t("tr",[t("td",[e._v("HC_SECRET_KEY")]),e._v(" "),t("td",[e._v("The secret key is required to encrypt cookies. We recommend using the command "),t("code",[e._v("sh /dev/urandom tr -dc 'A-Za-z0-9!#$%&()*+,-./:;<=>?@[\\]^_`{\\|}~' \\| head -c64; echo")]),e._v(" or any other secure string generator.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_ALLOWED_HOSTS")]),e._v(" "),t("td",[e._v("This variable declares which hosts are allowed and should be set to the domain of your application as well as localhost. If you want to use multiple domains, separate them by comma.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_LINK_BASE")]),e._v(" "),t("td",[e._v("This variable contains the URL which is used as the basis for LTI registration links. It should be set to your domain.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_TIME_ZONE")]),e._v(" "),t("td",[e._v("This variable is used to set the time zone of your server.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_ALLOW_AUTOMATIC_ROOM_CREATION")]),e._v(" "),t("td",[e._v("If this variable is set to true, new rooms are created when users visit the base URL. This should be enabled if you want to use Hyperchalk outside of an LTI consumer.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_ALLOW_ANONYMOUS_VISITS")]),e._v(" "),t("td",[e._v("If this variable is set to true, anyone who visits the base URL of Hyperchalk is presented with a new room. This is useful if you want to use Hyperchalk outside of an LTI consumer and don't want to require people to login before they can access Hyperchalk.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_PUBLIC_ROOMS")]),e._v(" "),t("td",[e._v("If HC_ALLOW_ANONYMOUS_VISITS is set to false, you can use this variable to create exemptions for particular rooms which should be accessible by all users who are not logged in. You can find the room ids in the admin interface.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_DEBUG")]),e._v(" "),t("td",[e._v("This variable activates the debug mode. In debug mode, static files are delivered directly by the Hyperchalk server which is not recommended for production. Moreover, additional files for debugging are delivered which increases data consumption drastically.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_SERVE_FILES")]),e._v(" "),t("td",[e._v("If this variable is set to true, static files are delivered directly by the Hyperchalk server. This is only recommended for local testing.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_ADMIN_MAIL")]),e._v(" "),t("td",[e._v("Hyperchalk offers the feature to send you mails in cases of critical errors. For this purpose, you can set the E-Mail these mails should be sent to. Important: the mails are only sent it if you have configured an E-Mail server.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_ADMIN_NAME")]),e._v(" "),t("td",[e._v("The name by which you want to be addressed in these mails.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_EMAIL_HOST")]),e._v(" "),t("td",[e._v("(optional) URI of an SMTP server. Hyperchalk can send out mails in case critical events occur.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_EMAIL_PORT")]),e._v(" "),t("td",[e._v("(optional) The port of the SMTP server.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_EMAIL_HOST_USER")]),e._v(" "),t("td",[e._v("(optional) The SMTP user.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_EMAIL_HOST_PASSWORD")]),e._v(" "),t("td",[e._v("(optional) The password of the SMTP user.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_EMAIL_USE_TLS")]),e._v(" "),t("td",[e._v("(optional) Set to true if TLS should be used for the SMTP connection. This variable is mutually exclusive with HC_EMAIL_USE_SSL.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_EMAIL_USE_SSL")]),e._v(" "),t("td",[e._v("(optional) Set to true if SSL should be used for the SMTP connection. This variable is mutually exclusive with HC_EMAIL_USE_TLS.")])]),e._v(" "),t("tr",[t("td",[e._v("HC_EMAIL_SUBJECT_PREFIX")]),e._v(" "),t("td",[e._v("(optional) You can use this variable to set a prefix for the E-Mail titles. This is handy if you want to search all mails sent out by Hyperchalk etc.")])])])]),e._v(" "),t("h3",{attrs:{id:"making-hyperchalk-ready-for-production-via-static-file-deployment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#making-hyperchalk-ready-for-production-via-static-file-deployment"}},[e._v("#")]),e._v(" Making Hyperchalk ready for Production via Static File Deployment")]),e._v(" "),t("p",[e._v("After you have configured the docker-compose file, the next step is to configure your web server to deploy the static files of Hyperchalk.\nThese files are not deployed by the Hyperchalk container itself by default unless you activate the debug mode or static file deployment. The reason for this is that\nDjango, the web framework we used to implement Hyperchalk, is not optimized for the deployment of static files. Static file deployment might lead\nto performance problems in cases where many users try to access the app at the same time. Nonetheless, the container provides all static files needed in two directories (namely "),t("code",[e._v("/srv/static_copy")]),e._v(" and "),t("code",[e._v("/srv/media")]),e._v(") which you should make available via a volumes. In our example docker-compose file, this is already the case. On the other hand, if you just want to test Hyperchalk locally and don't want to deploy it for production, it is the easiest to just activate the debug mode via the HC_DEBUG environment variable or static file deployment via HC_SERVE_FILES.")]),e._v(" "),t("p",[e._v("For production deployment, the next step is to make the files in these volumes available via a web server. From our experience, many apps are deployed behind an "),t("a",{attrs:{href:"https://www.nginx.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nginx"),t("OutboundLink")],1),e._v(" reverse proxy. As "),t("a",{attrs:{href:"https://www.nginx.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nginx"),t("OutboundLink")],1),e._v(" is also optimized for static file deployment, we intend Nginx to be used as deployment server for the static files (of course, you can also use other servers such as "),t("a",{attrs:{href:"https://httpd.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Apache"),t("OutboundLink")],1),e._v(", but we don't offer official support and torubleshooting for these). We provided an "),t("a",{attrs:{href:"https://github.com/Hyperchalk/Hyperchalk/blob/main/nginx-site.example.conf",target:"_blank",rel:"noopener noreferrer"}},[e._v("example configuration file"),t("OutboundLink")],1),e._v(" for configuring Hyperchalk with the Nginx proxy. You should rename this file to the domain you are using for Hyperchalk and copy it to the sites-available directory of your Nginx reverse proxy (usually /etc/nginx/sites-available if you are running Linux). You should then edit it. In particular, replace all occurences of the "),t("code",[e._v("your.site")]),e._v(" placeholder with your actual domain. In addition to this, you should change line 43 to the directory you mounted "),t("code",[e._v("/srv/static_copy")]),e._v(" to and line 48 to the directory you mounted "),t("code",[e._v("/srv/media")]),e._v(" to.")]),e._v(" "),t("p",[e._v("Now you are good to go. First, start Hyperchalk via:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" up "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v("\n")])])]),t("p",[e._v("After this, create a soft-link to the sites-enabled directory to activate Hyperchalk on your Nginx proxy:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ln")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" /etc/nginx/sites-available/"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("your_domain"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(".conf /etc/nginx/sites-enabled/\n")])])]),t("p",[e._v("Now, you need to reload your nginx proxy via:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("systemctl reload nginx\n")])])]),t("p",[e._v("Finally, you should run certbot to acquire an SSH certificate for Hyperchalk (see "),t("a",{attrs:{href:"https://www.nginx.com/blog/using-free-ssltls-certificates-from-lets-encrypt-with-nginx/",target:"_blank",rel:"noopener noreferrer"}},[e._v("this link"),t("OutboundLink")],1),e._v(" for a more detailed description):")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("certbot "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--nginx")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("your_domain"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),t("h3",{attrs:{id:"creating-a-superuser"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-superuser"}},[e._v("#")]),e._v(" Creating a superuser")]),e._v(" "),t("p",[e._v("From here on, you are almost done. The last step which is left is to create a superuser which is needed to access the admin interface (your_domain/admin). This can be done via the following command. You will be asked to assign a username and a password. If you need further superusers, just rerun this command in the future.")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# create an admin user for logging in to the admin backened")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--rm")]),e._v(" hyperchalk manage createsuperuser\n")])])]),t("p",[e._v("We wish you a pleasant experience using Hyperchalk 🥳.")]),e._v(" "),t("h2",{attrs:{id:"useful-configuration-documentation-links"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#useful-configuration-documentation-links"}},[e._v("#")]),e._v(" Useful Configuration Documentation Links")]),e._v(" "),t("p",[e._v("You are not restricted to just configuring the things in the example files. For further options,\ncheck out the following sources:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.djangoproject.com/en/3.2/howto/deployment/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Django Deployment Guide"),t("OutboundLink")],1),e._v(" (especially the section where "),t("a",{attrs:{href:"https://docs.djangoproject.com/en/3.2/howto/deployment/wsgi/gunicorn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gunicorn deployment"),t("OutboundLink")],1),e._v(" is explained.)")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://channels.readthedocs.io/en/stable/topics/channel_layers.html#configuration",target:"_blank",rel:"noopener noreferrer"}},[e._v("Channel Layers configuration guide"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.gunicorn.org/en/latest/configure.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gunicorn Configuration"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.uvicorn.org/settings/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Uvicorn Settings Documentation"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.uvicorn.org/deployment/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Uvicorn Deployment Guide"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"creating-lti-registration-links"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-lti-registration-links"}},[e._v("#")]),e._v(" Creating LTI registration links")]),e._v(" "),t("p",[e._v("Hyperchalk supports LTI 1.3 Advantage auto-configuration. For this purpose, your consumer app will ask you for a link. You can create such a link via the following script:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# create a registration link")]),e._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--rm")]),e._v(" hyperchalk manage makeconsumerlink\n")])])]),t("p",[e._v("Alternatively, you can use the admin interface for this purpose.")]),e._v(" "),t("h2",{attrs:{id:"supported-data-storage-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supported-data-storage-options"}},[e._v("#")]),e._v(" Supported Data Storage Options")]),e._v(" "),t("p",[e._v("Databases (see [Django configuration guide]):")]),e._v(" "),t("ul",[t("li",[e._v("Postgres")]),e._v(" "),t("li",[e._v("MySQL")]),e._v(" "),t("li",[e._v("SQLite (not recommended for production)")])]),e._v(" "),t("h2",{attrs:{id:"recommended-moodle-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#recommended-moodle-plugin"}},[e._v("#")]),e._v(" Recommended Moodle Plugin")]),e._v(" "),t("p",[e._v("Moodle has a strange way to decide the iframe size for LTI apps. To circumvent this, Hyperchalk\nsupports the "),t("a",{attrs:{href:"https://moodle.org/plugins/ltisource_message_handler",target:"_blank",rel:"noopener noreferrer"}},[e._v("LTI Message Handler"),t("OutboundLink")],1),e._v(" which can\nresize and configure the iframe of the LTI app via cross window messaging. It is advised to install\nthis when using the app with Moodle.")])])}),[],!1,null,null,null);t.default=o.exports}}]);